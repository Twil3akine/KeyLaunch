# KeyLaunch 👌

**KeyLaunch** は、ブラウザ操作を**全て**キーボード操作のみで完結させることを目的としたChrome拡張機能です。

---

## ✨ 主な機能

### 仮想ポインタ機能
#### ノーマルモード
- `H/J/K/L` で左/下/上/右にポインタを移動
- `Alt + H/L` で前/後ろのページに戻る/進む
- `Alt + J/K` で下/上にスクロール
- `Ctrl + Space` でクリック
- `Alt + Ctrl + Space` でクリックした要素を新しいタブで開く
- `Alt + Q` でクリックした要素を保存する
- `Ctrl + Q` でブックマークパネルを呼び出す
- `input` や `textarea` にクリックするとフォーカスモードに移行
- 文字の上で `Alt + C` でコピーモードに移行

#### フォーカスモード
- `Escape` でノーマルモードに移行

#### コピーモード
- `H/L` で一つ前/後ろの文字に移動
- `Ctrl + C` でコピー
- `Escape` でノーマルモードに移行

### ブックマークパネル
- `input` に文字を入力すると前方一致するブックマークを5つ表示
- `Tab` を1回押すと、前方一致するブックマークすべてに共通する部分を `input` 内の文字に置換
- 2回以上 `Tab` を押すと、順にブックマークを選択する
- `Shift + Tab` で逆順にブックマークを選択する
- `↑↓` / `Alt + J/K` でブックマークを下/上に移動
- `Enter` で選択したブックマークに飛ぶ
- `Ctrl + Q` でパネルを閉じる

---

## 🎮 キーバインド一覧

### 仮想ポインタ機能
| キー操作                     | 動作                                  |
|-----------------------------|---------------------------------------|
| `H`                         | カーソルを左に移動                     |
| `L`                         | カーソルを右に移動                     |
| `K`                         | カーソルを上に移動                     |
| `J`                         | カーソルを下に移動                     |
| `Shift` + 上記いずれか        | 移動距離を半分に                        |
| `Alt` + `J/K`               | ページスクロール                       |
| `Alt` + `H/L`               | 前後のタブに切り替え（ブラウザ依存）     |
| `Ctrl` + `Space`            | カーソル下の要素をクリック               |
| `Alt` + `Space`             | カーソル下の要素で右クリック（context menu）|
| `Ctrl` + `Alt` + `Space`    | ダブルクリック                         |
| `Alt` + `C`                 | コピーモードに移行                     |
| `Escape`                    | ノーマルモードに移行                   |

### コピーモード
| キー操作                     | 動作                                  |
|-----------------------------|---------------------------------------|
| `H/L`                       | 一つ前/後ろの文字に移動                 |
| `Ctrl + C`                  | 選択したテキストのコピー               |
| `Escape`                    | ノーマルモードに移行                   |

### ブックマークパネル
| キー操作                     | 動作                                  |
|-----------------------------|---------------------------------------|
| `Tab`                       | ブックマークを順に選択                 |
| `Shift + Tab`               | ブックマークを逆順に選択               |
| `Enter`                     | 選択したブックマークに移動             |
| `Ctrl + Q`                  | ブックマークパネルを閉じる             |

---

## 🔧 使い方

1. `git clone https://github.com/twil3akine/KeyLaunch` でこのリポジトリをクローンする
2. `bun install` を実行する。
3. `bun run build` でビルドを行う。
4. 生成された `dist` フォルダをChrome拡張機能に追加する。
5. 画面中央に赤いカーソルが表示されます。
6. キーボードでカーソルを操作し、目的の位置でクリック等のイベントを発火できます。

---

## ⚠️ 制限・注意事項

- カーソルは `20px` のマージンを残してウィンドウ端で止まる仕様です。
- スクロールバーのサイズはブラウザ環境依存のため、必要に応じて `margin` 値を調整してください。
- `elementFromPoint` によるイベント発火の都合上、z-index が極端に高い要素などとは干渉しない可能性があります。
- `INPUT`, `TEXTAREA`, `SELECT` に対しては `focus()` によってカーソルを移動後に入力を開始できます。
- タブ切り替え操作（`Alt+H/L`）は、使用中のブラウザで許可されている範囲に限り有効です（例：Chrome拡張として許可されているアクション）。

---

## 📄 ライセンス

MIT ライセンス相当（自由に使用・改変可能です）